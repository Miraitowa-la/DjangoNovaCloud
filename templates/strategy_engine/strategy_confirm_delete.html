{% extends 'base.html' %}

{% block title %}删除策略 - NovaCloud{% endblock %}

{% block content %}
<div class="content-section">
    <div class="section-header">
        <h1>删除策略</h1>
    </div>
    
    <div class="alert alert-danger">
        <i class="fas fa-exclamation-triangle"></i> 警告！此操作不可逆。
    </div>
    
    <div class="form-container">
        <form method="post">
            {% csrf_token %}
            
            <div class="confirm-message">
                <p>您确定要删除策略 <strong>"{{ object.name }}"</strong> 吗？</p>
                <p>此操作将删除该策略的所有条件和动作，且无法恢复。</p>
            </div>
            
            <div class="strategy-info">
                <div class="detail-row">
                    <div class="detail-label">策略名称:</div>
                    <div class="detail-value">{{ object.name }}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">所属项目:</div>
                    <div class="detail-value">{{ object.project.name }}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">创建时间:</div>
                    <div class="detail-value">{{ object.created_at|date:"Y-m-d H:i" }}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">条件数量:</div>
                    <div class="detail-value">{{ object.conditions.count }}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">动作数量:</div>
                    <div class="detail-value">{{ object.actions.count }}</div>
                </div>
            </div>
            
            <div class="form-actions">
                <div class="button-group">
                    <button type="submit" class="btn btn-danger">
                        <i class="fas fa-trash"></i> 确认删除
                    </button>
                    <a href="{% url 'strategy_engine:strategy_detail' object.pk %}" class="btn btn-light">
                        <i class="fas fa-times"></i> 取消
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %} 